<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>台灣餐廳隨機推薦器</title>
    <link rel="stylesheet" href="styles.css" />
    <!-- 原本是 index.js / script.js 任一名稱都可，script 檔名與下面一致 -->
    <script defer src="index.js"></script>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"/>
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js" defer></script>
</head>
<body>
    <header>
        <h1>台灣餐廳隨機推薦器</h1>
    </header>

    <main>
        <section id="controls">
            <div id="search-row">
                <div class="field">
                    <label for="citySelect">縣市</label>
                    <select id="citySelect"></select>
                </div>
                <div class="field">
                    <label for="districtSelect">區</label>
                    <select id="districtSelect"></select>
                </div>
                <div class="field street-field">
                    <label for="streetInput">街道 / 門牌（選填）</label>
                    <input type="text" id="streetInput" placeholder="例如：仁愛路、八德路"/>
                    <div id="streetSuggestions" class="suggestions"></div>
                </div>
                <div class="field">
                    <label for="typeSelect">類型</label>
                    <select id="typeSelect"></select>
                </div>
                <div class="field range-field">
                    <label for="radiusInput">搜尋半徑 (m)</label>
                    <input type="range" id="radiusInput" min="0" max="5000" step="100" value="1000"/>
                    <div id="radiusLabel">1000</div>
                </div>
            </div>

            <div id="action-row">
                <button id="searchBtn" class="primary">搜尋</button>
                <button id="reshuffleBtn">重新隨機排序</button>
                <!-- 注意：已移除「取得我的位置」按鈕，改為在導航時詢問是否要使用當前位置 -->
            </div>

            <!-- 顯示目前搜尋資訊（第 3 點需求） -->
            <div id="searchInfo" class="search-info" aria-live="polite"></div>
        </section>

        <section id="map-and-results">
            <div id="map"></div>

            <aside id="resultsPanel" class="results"></aside>
        </section>

        <section id="loading" class="loading" style="display:none;">
            <div class="spinner"></div>
            <div>查詢中，請稍候…</div>
        </section>
    </main>

    <footer>
        <p>&copy; 2025 台灣餐廳隨機推薦器</p>
    </footer>
</body>
</html>
