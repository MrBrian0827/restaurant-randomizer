:root{
  --accent:#e4572e;
  --muted:#6b7280;
  --card-bg:#ffffff;
  --bg:#f6f7fb;
}
*{box-sizing:border-box}
html,body{height:100%;margin:0;font-family:system-ui,-apple-system,Segoe UI,Roboto,"Noto Sans TC","Helvetica Neue",Arial;background:var(--bg);color:#111;}
.app{max-width:1200px;margin:12px auto;padding:12px;display:flex;flex-direction:column;gap:12px;}
.header{display:flex;align-items:center;justify-content:space-between;gap:12px;flex-wrap:wrap;}
h1{font-size:22px;margin:0;}
.small{font-size:13px;color:var(--muted);}

.controls{background:#fff;padding:12px;border-radius:10px;box-shadow:0 6px 18px rgba(15,23,42,0.06);display:flex;flex-direction:column;gap:8px;}
.row{display:flex;gap:8px;flex-wrap:wrap;}
.col{flex:1;min-width:160px;}
select,input{width:100%;padding:10px;border-radius:8px;border:1px solid #e6e9ef;background:#fff;}
button{padding:10px 14px;border-radius:8px;border:0;background:var(--accent);color:#fff;cursor:pointer;font-weight:600;}
button:disabled{opacity:0.6;cursor:not-allowed;}
.actions-col{display:flex;align-items:flex-end;justify-content:flex-end;}

.main-grid{display:grid;grid-template-columns:1fr 380px;gap:12px;}
.map{height:600px;border-radius:10px;overflow:hidden;box-shadow:0 6px 18px rgba(15,23,42,0.06);}
.results-panel{background:#fff;padding:12px;border-radius:10px;box-shadow:0 6px 18px rgba(15,23,42,0.06);display:flex;flex-direction:column;gap:8px;max-height:600px;overflow:auto;}

.card{background:var(--card-bg);border-radius:8px;padding:10px;border:1px solid #eef2f6;display:flex;justify-content:space-between;align-items:center;gap:8px;}
.card-left{display:flex;flex-direction:column;flex:1;}
.card-title{font-weight:700;margin:0;}
.card-sub{font-size:13px;color:var(--muted);margin-top:6px;}
.card-actions{display:flex;gap:6px;flex-wrap:wrap;}
.card-actions button{padding:8px 10px;font-size:14px;}

.loading-overlay{position:fixed;left:0;top:0;right:0;bottom:0;background:rgba(255,255,255,0.6);z-index:9999;display:flex;align-items:center;justify-content:center;backdrop-filter: blur(3px);}
.spinner{width:72px;height:72px;border-radius:50%;border:8px solid rgba(0,0,0,0.06);border-top-color:var(--accent);animation:spin 1s linear infinite;}
@keyframes spin{to{transform:rotate(360deg);}}

.suggestion-box{ position:relative; }
.suggestions{ position:absolute; top:100%; left:0; right:0; background:#fff; border:1px solid #e6e9ef; border-radius:6px; z-index:1000; max-height:200px; overflow-y:auto;}
.suggestion-item{ padding:6px 10px; cursor:pointer; }
.suggestion-item:hover{ background:#e0f7fa; }

.locate{ background:#f59e0b; color:#fff; }

/* Mobile layout: results above map */
@media(max-width:900px){
  .main-grid{grid-template-columns:1fr; }
  .map{height:420px;}
  .results-panel{order:0;}
  #map{order:1;}
  .actions-col{justify-content:flex-start;}
  .card{flex-direction:column;align-items:flex-start;}
  .card-actions{width:100%;justify-content:flex-start;}
}
